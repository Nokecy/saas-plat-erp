{
  "name": "部门列表",
  "code": "list",
  "url": "appfx/tree",
  "config": {
    "data": {
      "model": ["DepartmentList"]
    },
    "actions": {
      "toggleEnable": {
        "base": "toggle",
        "args": {
          "command": "changeEnable",
          "id": "$tree.selected.id",
          "enable": "!$tree.selected.enabled"
        }
      },
      "openEmployee": {
        "base": "open",
        "args": {
          "moduleCode": "erp.base.employee.detail",
          "defaults": {
            "department": "$tree.selected.code"
          }
        }
      },
      "deleteDepartment": {
        "base": "delete",
        "args": {
          "command": "deleteDepartment",
          "id": "$tree.selected.id"
        }
      }
    },
    "view": {
      "toolbar": {
        "showCount": 2,
        "items": [{
          "code": "search",
          "icon": "fa-search",
          "name": "查找",
          "action": "search"
        }, {
          "code": "addDepartment",
          "name": "添加部门",
          "action": "add",
          "icon": "fa-plus"
        }, {
          "code": "addEmployee",
          "name": "添加员工",
          "action": "openEmployee",
          "icon": "fa-user-plus"
        }, {
          "code": "local",
          "name": "定位",
          "icon": "fa-bullseye",
          "action": "local"
        }, {
          "code": "edit",
          "name": "删除",
          "icon": "fa-bullseye",
          "action": "edit"
        }]
      },
      "filter": {
        "items": [{
          "code": "enabled",
          "name": "启用",
          "value": "$item.enabled==true"
        }, {
          "code": "all",
          "name": "全部",
          "value": ""
        }]
      },
      "tree": {
        "columns": [{
          "code": "name",
          "value": "$item.code",
          "name": "编码"
        }, {
          "code": "name",
          "value": "$item.name",
          "name": "名称",
          "flex": 1
        }, {
          "code": "enabled",
          "value": "$item.enabled?'启用':'停用'",
          "name": "状态"
        }],
        "actions": [{
          "filter": "$ctx.mode!=edit",
          "code": "changeStatus",
          "name": "$item.enabled?'启用':'停用'",
          "action": "toggleEnable"
        }, {
          "filter": "$ctx.mode==edit",
          "code": "delete",
          "name": "删除",
          "action": "deleteDepartment"
        }]
      }
    }
  }
}
