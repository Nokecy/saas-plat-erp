# 价格策略

制单过程中，能够帮助用户对各存货快速定价、合理定价
各存货在系统中具有价格体系，将体系中各种价格有机排序，形成定价的策略
区分采购进价的价格策略和销售售价的价格策略
应用情况

档案设置
在基础设置中，通过使用价格策略向导——进价及对应编码设置和售价及对应编码设置可以维护以下档案：
存货价格本
客户价格本
部门价格本
供应商价格本
价格带出策略
单据应用
进价带出策略应用的单据：请购单、采购订单、进货单、采购发票。
售价带出策略应用的单据：报价单、销售订单、销货单、销售发票。
在单据上录入存货时自动带出价格
价格带出时应用设定的价格带出策略。按照价格策略设置中设置的优先级次取相应的价格。当前面价格设置取不到价格时，依次根据优先级次取价。
进价带出
价格策略执行供应商最新进价
取进行价格跟踪进货单上的供应商存货的最新历史交易价，取价时按供应商+存货+计量单位取最新一笔交易的报价、折扣、单价（无税或含税）
根据供应商在往来单位档案中“采购报价含税”带入价格，当报价含税被选中时， 则取报价、折扣、含税单价带入到单据上；当报价含税未选中时，则取报价、折扣、单价带入到单据上。
当单据的票据类型为“普通发票、农副产品发票或相应的红票”时，无论供应商的“采购报价含税”项是否含税，均取“含税单价”值带入到单据上。
价格策略执行供应商协议价
带入供应商价格本中的单据日期对应生效期间的协议价，取价时按供应商+存货+计量单位取协议价，在带入价格时要根据用户选择的供应商带入相应的价格。
将协议价、折扣带入单据的报价、折扣字段。成交价根据供应商档案中“采购报价含税”带入‘单价’或‘含税单价’中。
当前单据的票据类型为“普通发票、农副产品发票或相应的红票”时，成交价带入到单据的“含税单价”上。
价格策略执行存货的最新进价
取存货价格本中对应的最新进价，按存货+计量单位取最新进价。
单据上供应商在往来单位档案中的 “采购报价含税” 无论是否含税，均带入单据的单价（无税）中。
 价格策略执行存货的最新售价
取存货价格本中对应的（[最新售价]* [扣率%]），其中扣率先从存货价格本中取，取不到再从价格策略中取，按存货+计量单位取最新售价。
单据上供应商在往来单位档案中的 “采购报价含税” 情况，带入单据的单价（无税）或含税单价中。
售价带出
价格策略执行客户促销价
客户促销价分‘销售单品返现、销售单品满赠’2种，从‘客户维度、商品维度、时间维度’三方面设定促销。单品返现在录单过程中按单行数量进行判断执行，在保存时再着【存货+计量单位】汇总数量再重新执行；单品满赠只在保存时按汇总数量进行执行。
销售单品返现支持‘打折、返现、成倍返现、折后价’4种方式；【打折】指某些客户在特定的时间段进行全场统一折扣，也可以满足一定的数量条件后再进行折扣，这个折扣是对促销设置里设置的‘基础报价’的折扣；此策略将‘基础报价对应的报价值、促销折扣’带入‘报价、折扣’字段，再按着折扣修改的算法返算其它价税额。
2、【返现】指某些客户在特定的时间内购买某些商品达到一定的数量给的返现金额。带入单据时，将在促销方案里设置的‘基础报价’对应的报价值带入报价、若销售报价含税则将‘含税金额-返现金额’作为新的含税金额，按着含税金额修改算法返算其它价税额；若销售报价不含税，则按‘金额-返现金额’作为新的金额。
【成倍返现】指在返现的基础上，根据数量满足的倍数*设置的返现金额作为总的返现金额，带入单据的规则同‘返现’。
【折后价】指某些客户在特定的时间内购某些商品达到一定数量降价到多少钱进行销售；带入单据时，将在促销方案里设置的‘基础报价’对应的报价值带入报价，销售报价含税则将‘折后价’带入‘含税单价’，销售报价不含税则将‘折后价’带入‘单价’，按着‘含税单价’或‘单价’修改的算法返算其它价税额。
【单品满赠】指某些客户在特定的时间内购买某些商品达到一定数量可以赠送赠品，在单据保存时将表体明细中非赠品行的商品按‘商品+计量单位’进行数量合并后，按着合并后的部数量判断是否满足促销方案，满足则由用户选择赠品（根据设置的赠品数量及赠品品类）及数量，根据选择的赠品品类及数量返回到单据明细中。如果促销方案是成倍赠送，按着数量满足的倍数*方案设置的赠品数量作为总的赠品数量。
价格策略执行客户最新售价
取进行价格跟踪销货单上的客户存货的最新历史交易价，取价时按客户+存货+计量单位取最新一笔交易的报价、折扣、单价（无税或含税）
根据销售管理的选项“报价含税”带入价格，当报价含税被选中时， 则取报价、折扣、含税单价带入到销售单据上；当报价含税未选中时，则取报价、折扣、单价带入到销售单据上。
价格策略执行客户协议价
取价时按客户+存货+计量单位取‘客户价格本’的协议价、折扣 、成交价，在带入价格时要根据用户选择的客户带入相应的价格。
将协议价、折扣带入单据的报价、折扣字段。成交价根据供应商档案中“采购报价含税”带入‘单价’或‘含税单价’中。
价格策略执行部门的最新售价
取进行价格跟踪销货单上部门存货的最进历史交易价，取价时按部门+存货+计量单位取报价、折扣、单价（无税或含税）
根据销售管理中的选项“报价含税”带入价格，当报价含税被选中时，则取报价、折扣、含税单价带入到销售单据上，当报价含税未选中时，则取报价、折扣、单价（无税）带入到销售单据上。
价格策略执行部门价格本中的批发价
根据单据上客户的在往来单位档案中的客户价格等级，从部门存货价格设置中按部门+存货+计量单位取相应等级的批发价或零售价。
将批发价带入单据的报价
价格策略执行存货的最新售价
取存货档案中对应的最新售价，按存货+计量单位取最新售价
根据销售管理的选项报价是否含税带入价格，当报价含税时，则将最新售价带入当时单据的含税单价中。当报价含税未选中时，则将最新售价带入到当前单据的单价（无税）中。
价格策略执行存货的批发价
根据单据上客户的在往来单位档案中的客户价格等级，从存货价格设置中按部门+存货+计量单位取相应等级的批发价或零售价。
将批发价带入单据的报价
价格策略执行客户最新进价
取存货价格本中【存货最新进价】* 【1+加价率%】，加价率%从存货价格本中取不到从客户价格本中取。按客户+存货+计量单位取价。
根据销售管理的选项报价是否含税带入价格，当报价含税时，则将最新售价带入当时单据的含税单价中。当报价含税未选中时，则将最新售价带入到当前单据的单价（无税）中
价格策略执行存货最新进价
取存货价格本中【存货最新进价】* 【1+加价率%】，加价率%从存货价格本中取。按存货+计量单位取价。
将最新进价带入单据的单价中。
价格策略执行存货数量档位价
取存货价格本中‘单价’。按“存货+计量单位+数量”顺序取价，按当前单据明细行的数量符合哪个档位区间（数量下限<|单据存货数量｜<=数量上限）来决定取哪个数量级的单价。
根据销售管理的选项报价是否含税带入价格，当报价含税时，则将最新售价带入当时单据的含税单价中。当报价含税未选中时，则将最新售价带入到当前单据的单价（无税）中。
常见问题

界面录入顺序是否影响价格策略的带入？
对最终结果不会产生影响，但可能会引起界面价格的多次变化，所以提倡按照正常的操作流程录入。举例：如果设置了客户或部门的价格策略，在单据界面先录入存货，由于界面中客户或部门字段为空，则取不到相关的价格，只能带出存货相关策略的价格。此时如果录入客户或部门，则价格策略重新执行，带出客户存货或部门存货相关策略的价格。
正常的录入流程为先指定客户或供应商，再指定部门，最后录入存货，这样价格策略的执行效率最高。
